<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Library API - Books</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
    <link rel="stylesheet" href="../static/styles/style.css" type="text/css" th:href="@{/styles/style.css}">
</head>
<body>
<div class="page-header bg-dark bg-gradient py-2 px-5 text-muted">
    <div class="d-flex flex-row mb-3 justify-content-between align-items-center">
        <a href="/" class="text-decoration-none text-muted"><h1>Biblioteka<span class="text-success display-3"><strong>&NonBreakingSpace;API</strong></span></h1></a>
        <h1 class="text-center"><span class="text-success">></span>&nbsp;Books</h1>
        <div class="d-flex flex-row align-items-center mx-5 px-5">
            <a href="#"><img th:src="@{/images/book.svg}" alt="book" width="80px" height="80px" class="btn img-thumbnail mx-2 text-success"></a>
            <a href="api/books/search"><img th:src="@{/images/bookcopy.svg}" alt="bookcopy" width="80px" height="80px" class="btn img-thumbnail mx-2"></a>
            <a href="api/borrowings"><img th:src="@{/images/borrowing.png}" alt="borrowing" width="80px" height="80px" class="btn img-thumbnail mx-2"></a>
            <a href="api/users/0/borrowings"><img th:src="@{/images/user.svg}" alt="user" width="80px" height="80px" class="btn img-thumbnail mx-2"></a>
        </div>
    </div>
</div>
<div class="container py-5">
    <table class="table table-striped table-dark table-hover">
        <thead>
        <tr>
            <th scope="col">id</th>
            <th scope="col">title</th>
            <th scope="col">author</th>
            <th scope="col">isbn</th>
            <th scope="col">pub. year</th>
            <th scope="col">actions</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="book: ${books}"><li th:each="person: ${people}" th:text="${person.firstName + ' ' + person.lastName}"></li>
            <th scope="row" th:text="${book.id}">id</th>
            <td th:text="${book.title}">title</td>
            <td th:text="${book.author}">author</td>
            <td th:text="${book.isbn}">isbn</td>
            <td th:text="${book.publication_year}">pub. year</td>
            <td>
                <div class="d-flex flex-row justify-content-center">
                    <a th:if="${book.bookCopy.status == 'available'}" th:href="@{books/{id}/borrow(id=${book.id})}" class="btn btn-success mx-1">borrow</a>
                    <div th:unless="${book.bookCopy.status == 'available'}" class="text-danger mx-1">Unavailable</div>
                    <a th:href="@{books/{id}(id=${book.id})}" class="btn btn-secondary">check</a>
                </div>
            </td>
        </tr>
        </tbody>
    </table>
</div>
<footer class="bg-body-tertiary text-center position-absolute bottom-0 start-0 w-100">
    <div class="container p-4"></div>
    <div class="text-center p-3 bg-dark">
        <a class="text-muted" href="http://jakubszumilak.github.io/">Made by Jakub Szumilak</a>
    </div>
</footer>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" crossorigin="anonymous"></script>
</body>
</html>